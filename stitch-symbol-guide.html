<!DOCTYPE html>
<html lang="et">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heegeldamise S√ºmbolite Juhend</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: #f5f5f5;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            background: white;
            border: 4px solid #6B4C93;
            border-radius: 8px;
            padding: 30px;
            max-width: 1200px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 28px;
        }

        .canvas-container {
            position: relative;
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        canvas {
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
        }

        .notes {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #eee;
            font-size: 14px;
            color: #666;
            line-height: 1.8;
        }

        .note {
            margin: 8px 0;
        }

        .tooltip {
            position: absolute;
            background: #333;
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 13px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 1000;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .tooltip.visible {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üßµ Heegeldamise S√ºmbolite Juhend</h1>
        <div class="canvas-container">
            <canvas id="symbolCanvas" width="1100" height="900"></canvas>
            <div id="tooltip" class="tooltip"></div>
        </div>
        <div class="notes">
            <div class="note"><strong>*</strong> M√µlemad s√ºmbolid on levinud single crochet'i jaoks</div>
            <div class="note"><strong>**</strong> S√ºmbol kuvatakse t√∂√∂deldava piste aluses</div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('symbolCanvas');
        const ctx = canvas.getContext('2d');
        const tooltip = document.getElementById('tooltip');

        // Symbol definitions with positions and labels
        const symbols = {
            left: [
                { id: 'chain', label: 'chain (ch)', y: 40 },
                { id: 'slip', label: 'slip stitch (sl st)', y: 100 },
                { id: 'sc', label: 'single crochet (sc)*', y: 160 },
                { id: 'hdc', label: 'half double crochet (hdc)', y: 220 },
                { id: 'dc', label: 'double crochet (dc)', y: 280 },
                { id: 'tr', label: 'treble crochet (tr)', y: 340 },
                { id: 'dtr', label: 'double treble crochet (dtr)', y: 400 },
                { id: 'sc2tog', label: 'sc2tog', y: 460 },
                { id: 'sc3tog', label: 'sc3tog', y: 520 },
                { id: 'dc2tog', label: 'dc2tog', y: 580 }
            ],
            right: [
                { id: 'dc3tog', label: 'dc3tog', y: 40 },
                { id: 'cluster-3dc', label: '3-dc cluster', y: 100 },
                { id: 'cluster-3hdc', label: '3-hdc cluster/puff st/bobble', y: 160 },
                { id: 'popcorn-5dc', label: '5-dc popcorn', y: 220 },
                { id: 'shell-5dc', label: '5-dc shell', y: 280 },
                { id: 'picot-ch3', label: 'ch-3 picot', y: 340 },
                { id: 'fpdc', label: 'front post dc (FPdc)', y: 400 },
                { id: 'bpdc', label: 'back post dc (BPdc)', y: 460 },
                { id: 'blo', label: 'worked in back loop only**', y: 520 },
                { id: 'flo', label: 'worked in front loop only**', y: 580 }
            ]
        };

        const leftColumnX = 80;
        const rightColumnX = 580;
        const symbolSize = 35;
        const labelXOffset = 60;

        let hoveredSymbol = null;

        function drawSymbol(symbolId, x, y, scale = 1) {
            const s = symbolSize * scale;
            ctx.strokeStyle = '#000000';
            ctx.fillStyle = '#000000';
            ctx.lineWidth = 2.5 * scale;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';

            ctx.save();
            ctx.translate(x, y);

            switch(symbolId) {
                case 'chain':
                    // Horizontal oval/ellipse
                    ctx.beginPath();
                    ctx.ellipse(0, 0, 12 * scale, 6 * scale, 0, 0, Math.PI * 2);
                    ctx.stroke();
                    break;

                case 'slip':
                    // Filled dot
                    ctx.beginPath();
                    ctx.arc(0, 0, 4 * scale, 0, Math.PI * 2);
                    ctx.fill();
                    break;

                case 'sc':
                    // X or + symbol (drawing +)
                    ctx.beginPath();
                    ctx.moveTo(-8 * scale, 0);
                    ctx.lineTo(8 * scale, 0);
                    ctx.moveTo(0, -8 * scale);
                    ctx.lineTo(0, 8 * scale);
                    ctx.stroke();
                    break;

                case 'hdc':
                    // Short vertical line with horizontal bar at top
                    ctx.beginPath();
                    ctx.moveTo(0, -8 * scale);
                    ctx.lineTo(0, 8 * scale);
                    ctx.moveTo(-6 * scale, -8 * scale);
                    ctx.lineTo(6 * scale, -8 * scale);
                    ctx.stroke();
                    break;

                case 'dc':
                    // Vertical line with single diagonal line crossing the vertical stem
                    ctx.beginPath();
                    ctx.moveTo(0, -12 * scale);
                    ctx.lineTo(0, 12 * scale);
                    // Diagonal line (from top-left to bottom-right)
                    ctx.moveTo(-5 * scale, -7 * scale);
                    ctx.lineTo(5 * scale, -3 * scale);
                    ctx.stroke();
                    break;

                case 'tr':
                    // Vertical line with two diagonal lines crossing the vertical stem
                    ctx.beginPath();
                    ctx.moveTo(0, -14 * scale);
                    ctx.lineTo(0, 14 * scale);
                    // First diagonal line (higher)
                    ctx.moveTo(-5 * scale, -9 * scale);
                    ctx.lineTo(5 * scale, -5 * scale);
                    // Second diagonal line (lower)
                    ctx.moveTo(-5 * scale, -5 * scale);
                    ctx.lineTo(5 * scale, -1 * scale);
                    ctx.stroke();
                    break;

                case 'dtr':
                    // Tallest vertical line with two horizontal bars crossing it
                    ctx.beginPath();
                    ctx.moveTo(0, -16 * scale);
                    ctx.lineTo(0, 16 * scale);
                    ctx.moveTo(-6 * scale, -10 * scale);
                    ctx.lineTo(6 * scale, -10 * scale);
                    ctx.moveTo(-6 * scale, -4 * scale);
                    ctx.lineTo(6 * scale, -4 * scale);
                    ctx.stroke();
                    break;

                case 'sc2tog':
                    // Inverted V with two vertical lines converging at top
                    // Each vertical line has a short horizontal line crossing it
                    ctx.beginPath();
                    // Left vertical line
                    ctx.moveTo(-6 * scale, -10 * scale);
                    ctx.lineTo(-3 * scale, 10 * scale);
                    // Right vertical line
                    ctx.moveTo(6 * scale, -10 * scale);
                    ctx.lineTo(3 * scale, 10 * scale);
                    ctx.stroke();
                    // Horizontal lines crossing each vertical
                    ctx.beginPath();
                    ctx.moveTo(-7 * scale, -4 * scale);
                    ctx.lineTo(-5 * scale, -4 * scale);
                    ctx.moveTo(5 * scale, -4 * scale);
                    ctx.lineTo(7 * scale, -4 * scale);
                    ctx.stroke();
                    break;

                case 'sc3tog':
                    // Inverted A shape with two horizontal bars (sc3tog)
                    ctx.beginPath();
                    ctx.moveTo(-8 * scale, -10 * scale);
                    ctx.lineTo(0, 10 * scale);
                    ctx.lineTo(8 * scale, -10 * scale);
                    ctx.stroke();
                    // Two horizontal bars
                    ctx.beginPath();
                    ctx.moveTo(-5 * scale, -4 * scale);
                    ctx.lineTo(5 * scale, -4 * scale);
                    ctx.moveTo(-5 * scale, -2 * scale);
                    ctx.lineTo(5 * scale, -2 * scale);
                    ctx.stroke();
                    break;

                case 'dc2tog':
                    // Inverted V with two vertical lines converging at top
                    // Each vertical line has a short diagonal line crossing it
                    ctx.beginPath();
                    // Left vertical line
                    ctx.moveTo(-6 * scale, -12 * scale);
                    ctx.lineTo(-3 * scale, 12 * scale);
                    // Right vertical line
                    ctx.moveTo(6 * scale, -12 * scale);
                    ctx.lineTo(3 * scale, 12 * scale);
                    ctx.stroke();
                    // Diagonal lines crossing each vertical (left side)
                    ctx.beginPath();
                    ctx.moveTo(-7 * scale, -6 * scale);
                    ctx.lineTo(-5 * scale, -4 * scale);
                    // Diagonal lines crossing each vertical (right side)
                    ctx.moveTo(5 * scale, -6 * scale);
                    ctx.lineTo(7 * scale, -4 * scale);
                    ctx.stroke();
                    break;

                case 'dc3tog':
                    // Inverted A with two horizontal bars and extension (dc style)
                    ctx.beginPath();
                    ctx.moveTo(-8 * scale, -12 * scale);
                    ctx.lineTo(0, 12 * scale);
                    ctx.lineTo(8 * scale, -12 * scale);
                    ctx.stroke();
                    // Two horizontal bars
                    ctx.beginPath();
                    ctx.moveTo(-6 * scale, -10 * scale);
                    ctx.lineTo(6 * scale, -10 * scale);
                    ctx.moveTo(-6 * scale, -8 * scale);
                    ctx.lineTo(6 * scale, -8 * scale);
                    ctx.stroke();
                    break;

                case 'cluster-3dc':
                    // Oval with three vertical lines inside
                    // Each vertical line has a short diagonal line crossing it
                    ctx.beginPath();
                    ctx.ellipse(0, 0, 5 * scale, 12 * scale, 0, 0, Math.PI * 2);
                    ctx.stroke();
                    ctx.lineWidth = 2 * scale;
                    // Three vertical lines
                    ctx.beginPath();
                    ctx.moveTo(-2.5 * scale, -10 * scale);
                    ctx.lineTo(-2.5 * scale, 10 * scale);
                    ctx.moveTo(0, -10 * scale);
                    ctx.lineTo(0, 10 * scale);
                    ctx.moveTo(2.5 * scale, -10 * scale);
                    ctx.lineTo(2.5 * scale, 10 * scale);
                    ctx.stroke();
                    // Diagonal lines on each vertical (from top-left to bottom-right)
                    ctx.lineWidth = 1.5 * scale;
                    ctx.beginPath();
                    // Left vertical diagonal
                    ctx.moveTo(-3.5 * scale, -4 * scale);
                    ctx.lineTo(-1.5 * scale, -2 * scale);
                    // Center vertical diagonal
                    ctx.moveTo(-1 * scale, -4 * scale);
                    ctx.lineTo(1 * scale, -2 * scale);
                    // Right vertical diagonal
                    ctx.moveTo(1.5 * scale, -4 * scale);
                    ctx.lineTo(3.5 * scale, -2 * scale);
                    ctx.stroke();
                    ctx.lineWidth = 2.5 * scale; // Reset
                    break;

                case 'cluster-3hdc':
                    // Oval with three shorter lines
                    ctx.beginPath();
                    ctx.ellipse(0, 0, 6 * scale, 10 * scale, 0, 0, Math.PI * 2);
                    ctx.stroke();
                    ctx.lineWidth = 2 * scale;
                    ctx.beginPath();
                    ctx.moveTo(-3 * scale, -7 * scale);
                    ctx.lineTo(-3 * scale, 7 * scale);
                    ctx.moveTo(0, -7 * scale);
                    ctx.lineTo(0, 7 * scale);
                    ctx.moveTo(3 * scale, -7 * scale);
                    ctx.lineTo(3 * scale, 7 * scale);
                    ctx.stroke();
                    break;

                case 'popcorn-5dc':
                    // Oval with five vertical lines
                    ctx.beginPath();
                    ctx.ellipse(0, 0, 5 * scale, 12 * scale, 0, 0, Math.PI * 2);
                    ctx.stroke();
                    ctx.lineWidth = 1.5 * scale;
                    ctx.beginPath();
                    for (let i = -2; i <= 2; i++) {
                        ctx.moveTo(i * 2 * scale, -10 * scale);
                        ctx.lineTo(i * 2 * scale, 10 * scale);
                    }
                    ctx.stroke();
                    break;

                case 'shell-5dc':
                    // Fan shape: five individual T shapes with diagonal lines
                    // All five T shapes originate from a single point at the bottom
                    ctx.lineWidth = 2.5 * scale;
                    const fanRadius = 12 * scale;
                    const fanStartAngle = -Math.PI / 2.5;
                    const fanEndAngle = Math.PI / 2.5;
                    const bottomY = 10 * scale;
                    const bottomX = 0;
                    
                    for (let i = 0; i < 5; i++) {
                        const angle = fanStartAngle + (fanEndAngle - fanStartAngle) * (i / 4);
                        const endX = bottomX + Math.cos(angle) * fanRadius;
                        const endY = bottomY - Math.sin(angle) * fanRadius;
                        
                        ctx.beginPath();
                        // Vertical line from bottom point to top
                        ctx.moveTo(bottomX, bottomY);
                        ctx.lineTo(endX, endY - 8 * scale);
                        // Diagonal line crossing the vertical (from top-left to bottom-right)
                        ctx.moveTo(endX - 3 * scale, endY - 10 * scale);
                        ctx.lineTo(endX + 3 * scale, endY - 6 * scale);
                        ctx.stroke();
                    }
                    break;

                case 'picot-ch3':
                    // Small circle with horizontal line and two dots
                    ctx.beginPath();
                    ctx.arc(0, 0, 4 * scale, 0, Math.PI * 2);
                    ctx.stroke();
                    // Horizontal line through center
                    ctx.beginPath();
                    ctx.moveTo(-4 * scale, 0);
                    ctx.lineTo(4 * scale, 0);
                    ctx.stroke();
                    // Two dots on sides
                    ctx.beginPath();
                    ctx.arc(-3 * scale, 0, 1.5 * scale, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.beginPath();
                    ctx.arc(3 * scale, 0, 1.5 * scale, 0, Math.PI * 2);
                    ctx.fill();
                    break;

                case 'fpdc':
                    // Vertical line with curved base facing forward (right)
                    ctx.beginPath();
                    ctx.moveTo(0, -12 * scale);
                    ctx.lineTo(0, 8 * scale);
                    ctx.moveTo(-6 * scale, -8 * scale);
                    ctx.lineTo(6 * scale, -8 * scale);
                    // Curved hook to the right
                    ctx.arc(4 * scale, 10 * scale, 3 * scale, Math.PI, 0, false);
                    ctx.stroke();
                    break;

                case 'bpdc':
                    // Vertical line with curved base facing backward (left)
                    ctx.beginPath();
                    ctx.moveTo(0, -12 * scale);
                    ctx.lineTo(0, 8 * scale);
                    ctx.moveTo(-6 * scale, -8 * scale);
                    ctx.lineTo(6 * scale, -8 * scale);
                    // Curved hook to the left
                    ctx.arc(-4 * scale, 10 * scale, 3 * scale, 0, Math.PI, false);
                    ctx.stroke();
                    break;

                case 'blo':
                    // Curved line at base (opening parenthesis)
                    ctx.lineWidth = 2.5 * scale;
                    ctx.beginPath();
                    ctx.arc(-4 * scale, 0, 4 * scale, -Math.PI / 2, Math.PI / 2, false);
                    ctx.stroke();
                    break;

                case 'flo':
                    // Curved line at base (closing parenthesis)
                    ctx.lineWidth = 2.5 * scale;
                    ctx.beginPath();
                    ctx.arc(4 * scale, 0, 4 * scale, Math.PI / 2, -Math.PI / 2, false);
                    ctx.stroke();
                    break;
            }

            ctx.restore();
        }

        function drawLabels() {
            ctx.fillStyle = '#000000';
            ctx.font = '14px -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif';
            ctx.textAlign = 'left';
            ctx.textBaseline = 'middle';

            // Left column labels
            symbols.left.forEach(symbol => {
                ctx.fillText(symbol.label, leftColumnX + labelXOffset, symbol.y);
            });

            // Right column labels
            symbols.right.forEach(symbol => {
                ctx.fillText(symbol.label, rightColumnX + labelXOffset, symbol.y);
            });
        }

        function draw() {
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw left column symbols
            symbols.left.forEach(symbol => {
                const isHovered = hoveredSymbol === symbol.id;
                drawSymbol(symbol.id, leftColumnX, symbol.y, isHovered ? 1.1 : 1);
            });

            // Draw right column symbols
            symbols.right.forEach(symbol => {
                const isHovered = hoveredSymbol === symbol.id;
                drawSymbol(symbol.id, rightColumnX, symbol.y, isHovered ? 1.1 : 1);
            });

            // Draw labels
            drawLabels();
        }

        function getSymbolAt(x, y) {
            const tolerance = 25;

            // Check left column
            for (const symbol of symbols.left) {
                const dx = x - leftColumnX;
                const dy = y - symbol.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                if (distance < tolerance) {
                    return symbol;
                }
            }

            // Check right column
            for (const symbol of symbols.right) {
                const dx = x - rightColumnX;
                const dy = y - symbol.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                if (distance < tolerance) {
                    return symbol;
                }
            }

            return null;
        }

        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            const symbol = getSymbolAt(x, y);
            
            if (symbol) {
                hoveredSymbol = symbol.id;
                tooltip.textContent = symbol.label;
                tooltip.classList.add('visible');
                
                const tooltipX = e.clientX + 10;
                const tooltipY = e.clientY - 30;
                tooltip.style.left = tooltipX + 'px';
                tooltip.style.top = tooltipY + 'px';
            } else {
                hoveredSymbol = null;
                tooltip.classList.remove('visible');
            }

            draw();
        });

        canvas.addEventListener('mouseleave', () => {
            hoveredSymbol = null;
            tooltip.classList.remove('visible');
            draw();
        });

        // Initial draw
        draw();
    </script>
</body>
</html>

